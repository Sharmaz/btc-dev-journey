"use strict";(globalThis.webpackChunkbtc_dev_journey=globalThis.webpackChunkbtc_dev_journey||[]).push([[1256],{8376(e,i,n){n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"tracks/application-developer/libraries-sdks/rust","title":"Rust","description":"Building Bitcoin applications with Rust - BDK, LDK, and rust-bitcoin","source":"@site/docs/tracks/application-developer/01-libraries-sdks/rust.md","sourceDirName":"tracks/application-developer/01-libraries-sdks","slug":"/tracks/application-developer/libraries-sdks/rust","permalink":"/docs/tracks/application-developer/libraries-sdks/rust","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Rust","description":"Building Bitcoin applications with Rust - BDK, LDK, and rust-bitcoin"},"sidebar":"guideSidebar","previous":{"title":"Python","permalink":"/docs/tracks/application-developer/libraries-sdks/python"},"next":{"title":"Go","permalink":"/docs/tracks/application-developer/libraries-sdks/go"}}');var s=n(4848),r=n(8453);const c={sidebar_position:4,title:"Rust",description:"Building Bitcoin applications with Rust - BDK, LDK, and rust-bitcoin"},d="Rust",l={},o=[{value:"rust-bitcoin",id:"rust-bitcoin",level:2},{value:"BDK (Bitcoin Dev Kit)",id:"bdk-bitcoin-dev-kit",level:2},{value:"LDK (Lightning Dev Kit)",id:"ldk-lightning-dev-kit",level:2},{value:"rust-miniscript",id:"rust-miniscript",level:2},{value:"Ecosystem Overview",id:"ecosystem-overview",level:2},{value:"Recommended Reading",id:"recommended-reading",level:2}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"rust",children:"Rust"})}),"\n",(0,s.jsx)(i.p,{children:"Rust is rapidly becoming the language of choice for new Bitcoin projects. Its memory safety guarantees, performance, and strong type system make it ideal for financial software where correctness is critical."}),"\n",(0,s.jsx)(i.h2,{id:"rust-bitcoin",children:"rust-bitcoin"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://github.com/rust-bitcoin/rust-bitcoin",children:"rust-bitcoin"})," provides fundamental Bitcoin data structures and serialization. It's the foundation that BDK and other Rust libraries build on."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"cargo add bitcoin\n"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-rust",children:'use bitcoin::{Address, Network, PublicKey, CompressedPublicKey};\nuse bitcoin::secp256k1::{Secp256k1, rand};\n\nfn main() {\n    let secp = Secp256k1::new();\n\n    // Generate a random key pair\n    let (secret_key, public_key) = secp.generate_keypair(&mut rand::thread_rng());\n\n    // Create a SegWit address\n    let compressed = CompressedPublicKey::from(public_key);\n    let address = Address::p2wpkh(compressed, Network::Regtest);\n\n    println!("Address: {}", address);\n    println!("Secret key: {}", secret_key.display_secret());\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"bdk-bitcoin-dev-kit",children:"BDK (Bitcoin Dev Kit)"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://bitcoindevkit.org/",children:"BDK"})," is the recommended library for building wallets in Rust. It handles descriptors, coin selection, fee estimation, and PSBT construction."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"cargo add bdk_wallet bdk_esplora bdk_file_store\n"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-rust",children:"use bdk_wallet::{Wallet, KeychainKind};\nuse bitcoin::Network;\n\nfn main() -> Result<(), Box<dyn std::error::Error>> {\n    // Create a wallet with descriptor\n    let descriptor = \"wpkh(tprv8ZgxMBicQKsPd.../84'/1'/0'/0/*)\";\n    let change_descriptor = \"wpkh(tprv8ZgxMBicQKsPd.../84'/1'/0'/1/*)\";\n\n    let mut wallet = Wallet::create(descriptor, change_descriptor)\n        .network(Network::Regtest)\n        .create_wallet_no_persist()?;\n\n    // Get a new address\n    let address = wallet.reveal_next_address(KeychainKind::External);\n    println!(\"Address: {}\", address.address);\n\n    Ok(())\n}\n"})}),"\n",(0,s.jsx)(i.h2,{id:"ldk-lightning-dev-kit",children:"LDK (Lightning Dev Kit)"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://lightningdevkit.org/",children:"LDK"})," lets you build custom Lightning implementations. Unlike running a full Lightning node (LND, CLN), LDK gives you components you can assemble as needed."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"cargo add lightning lightning-invoice lightning-net-tokio\n"})}),"\n",(0,s.jsx)(i.p,{children:"LDK's key components:"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Component"}),(0,s.jsx)(i.th,{children:"Purpose"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"ChannelManager"})}),(0,s.jsx)(i.td,{children:"Manage payment channels"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"PeerManager"})}),(0,s.jsx)(i.td,{children:"Handle P2P connections"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"Router"})}),(0,s.jsx)(i.td,{children:"Find payment routes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"KeysManager"})}),(0,s.jsx)(i.td,{children:"Key derivation and signing"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"ChainMonitor"})}),(0,s.jsx)(i.td,{children:"Watch for on-chain channel events"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"rust-miniscript",children:"rust-miniscript"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"https://github.com/rust-bitcoin/rust-miniscript",children:"Miniscript"})," is a structured representation of Bitcoin Script that enables composable spending policies:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-rust",children:'use miniscript::policy::Concrete;\nuse miniscript::Descriptor;\n\n// A 2-of-3 multisig policy\nlet policy_str = "thresh(2,pk(Alice),pk(Bob),pk(Carol))";\nlet policy = Concrete::<String>::from_str(policy_str)?;\n\n// Compile to a descriptor\nlet descriptor = policy.compile::<miniscript::Segwitv0>()?;\nprintln!("Descriptor: {}", descriptor);\n'})}),"\n",(0,s.jsx)(i.h2,{id:"ecosystem-overview",children:"Ecosystem Overview"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Crate"}),(0,s.jsx)(i.th,{children:"Purpose"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"bitcoin"})}),(0,s.jsx)(i.td,{children:"Core data structures, serialization"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"bdk_wallet"})}),(0,s.jsx)(i.td,{children:"High-level wallet operations"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"lightning"})}),(0,s.jsx)(i.td,{children:"Lightning Network protocol"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"miniscript"})}),(0,s.jsx)(i.td,{children:"Composable spending policies"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"secp256k1"})}),(0,s.jsx)(i.td,{children:"Elliptic curve operations"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"bip39"})}),(0,s.jsx)(i.td,{children:"Mnemonic seed phrases"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"recommended-reading",children:"Recommended Reading"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://github.com/rust-bitcoin/rust-bitcoin",children:"rust-bitcoin GitHub"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://bitcoindevkit.org/",children:"BDK Documentation"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://lightningdevkit.org/",children:"LDK Documentation"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://github.com/nicohman/rust-bitcoin-tutorial",children:"Rust Bitcoin Tutorials"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,i,n){n.d(i,{R:()=>c,x:()=>d});var t=n(6540);const s={},r=t.createContext(s);function c(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);