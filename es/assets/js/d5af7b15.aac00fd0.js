"use strict";(globalThis.webpackChunkbtc_dev_journey=globalThis.webpackChunkbtc_dev_journey||[]).push([[9370],{2840(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"tracks/protocol-developer/languages-tools/index","title":"Lenguajes y Herramientas","description":"Lenguajes de programaci\xf3n y herramientas de desarrollo usados en el desarrollo de Bitcoin Core","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/tracks/protocol-developer/02-languages-tools/index.md","sourceDirName":"tracks/protocol-developer/02-languages-tools","slug":"/tracks/protocol-developer/languages-tools/","permalink":"/es/docs/tracks/protocol-developer/languages-tools/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Lenguajes y Herramientas","description":"Lenguajes de programaci\xf3n y herramientas de desarrollo usados en el desarrollo de Bitcoin Core"},"sidebar":"guideSidebar","previous":{"title":"Reglas de Consenso","permalink":"/es/docs/tracks/protocol-developer/bitcoin-core-internals/consensus"},"next":{"title":"Testing","permalink":"/es/docs/tracks/protocol-developer/testing/"}}');var i=s(4848),a=s(8453);const o={sidebar_position:2,title:"Lenguajes y Herramientas",description:"Lenguajes de programaci\xf3n y herramientas de desarrollo usados en el desarrollo de Bitcoin Core"},t="Lenguajes y Herramientas",d={},c=[{value:"C++ en Bitcoin Core",id:"c-en-bitcoin-core",level:2},{value:"Estilo y Convenciones",id:"estilo-y-convenciones",level:3},{value:"Caracter\xedsticas Clave de C++ Usadas",id:"caracter\xedsticas-clave-de-c-usadas",level:3},{value:"Seguridad de Hilos",id:"seguridad-de-hilos",level:3},{value:"Framework de Tests en Python",id:"framework-de-tests-en-python",level:2},{value:"Escribir un Test Funcional",id:"escribir-un-test-funcional",level:3},{value:"Herramientas de Desarrollo",id:"herramientas-de-desarrollo",level:2},{value:"Depurar Bitcoin Core",id:"depurar-bitcoin-core",level:3},{value:"Lectura Recomendada",id:"lectura-recomendada",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"lenguajes-y-herramientas",children:"Lenguajes y Herramientas"})}),"\n",(0,i.jsx)(n.p,{children:"El desarrollo de Bitcoin Core utiliza principalmente C++ para el c\xf3digo principal y Python para el framework de tests. Entender los idioms espec\xedficos de C++ y las herramientas utilizadas en el proyecto es esencial."}),"\n",(0,i.jsx)(n.h2,{id:"c-en-bitcoin-core",children:"C++ en Bitcoin Core"}),"\n",(0,i.jsxs)(n.p,{children:["Bitcoin Core usa ",(0,i.jsx)(n.strong,{children:"C++ moderno"})," (actualmente C++20). El proyecto tiene convenciones de c\xf3digo espec\xedficas:"]}),"\n",(0,i.jsx)(n.h3,{id:"estilo-y-convenciones",children:"Estilo y Convenciones"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nombrado"}),": ",(0,i.jsx)(n.code,{children:"CamelCase"})," para clases, ",(0,i.jsx)(n.code,{children:"snake_case"})," para funciones y variables"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Prefijo"}),": ",(0,i.jsx)(n.code,{children:"C"})," para clases (",(0,i.jsx)(n.code,{children:"CBlock"}),", ",(0,i.jsx)(n.code,{children:"CTransaction"}),"), ",(0,i.jsx)(n.code,{children:"m_"})," para variables miembro"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Smart pointers"}),": ",(0,i.jsx)(n.code,{children:"std::unique_ptr"})," y ",(0,i.jsx)(n.code,{children:"std::shared_ptr"})," sobre punteros raw"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sin excepciones en c\xf3digo de consenso"})," \u2014 Manejo de errores mediante valores de retorno"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sin RTTI"})," \u2014 La informaci\xf3n de tipo en tiempo de ejecuci\xf3n est\xe1 deshabilitada"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"caracter\xedsticas-clave-de-c-usadas",children:"Caracter\xedsticas Clave de C++ Usadas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// std::optional para valores anulables\nstd::optional<CBlockIndex*> FindBlock(const uint256& hash);\n\n// Span para vistas no propietarias\nbool VerifyScript(Span<const unsigned char> scriptSig, ...);\n\n// Structured bindings\nauto [iter, inserted] = mapBlockIndex.emplace(hash, new_index);\n\n// Patrones RAII para locks\nLOCK(cs_main);  // Adquiere mutex, se libera al salir del scope\n"})}),"\n",(0,i.jsx)(n.h3,{id:"seguridad-de-hilos",children:"Seguridad de Hilos"}),"\n",(0,i.jsxs)(n.p,{children:["Bitcoin Core usa ",(0,i.jsx)(n.strong,{children:"anotaciones"})," para aplicar seguridad de hilos en tiempo de compilaci\xf3n:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Mutexes anotados\nRecursiveMutex cs_main ACQUIRED_BEFORE(cs_wallet);\n\n// Variables protegidas por mutexes espec\xedficos\nint nBestHeight GUARDED_BY(cs_main);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"framework-de-tests-en-python",children:"Framework de Tests en Python"}),"\n",(0,i.jsxs)(n.p,{children:["La suite de tests funcionales (",(0,i.jsx)(n.code,{children:"test/functional/"}),") est\xe1 escrita en Python y es cr\xedtica para los desarrolladores de protocolo:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Ejecutar todos los tests funcionales\ntest/functional/test_runner.py\n\n# Ejecutar un test espec\xedfico\ntest/functional/test_runner.py wallet_basic.py\n\n# Ejecutar con salida detallada\ntest/functional/feature_block.py --loglevel=debug\n"})}),"\n",(0,i.jsx)(n.h3,{id:"escribir-un-test-funcional",children:"Escribir un Test Funcional"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from test_framework.test_framework import BitcoinTestFramework\nfrom test_framework.util import assert_equal\n\nclass ExampleTest(BitcoinTestFramework):\n    def set_test_params(self):\n        self.num_nodes = 2\n\n    def run_test(self):\n        # Minar algunos bloques\n        self.generate(self.nodes[0], 101)\n\n        # Verificar saldo\n        balance = self.nodes[0].getbalance()\n        assert_equal(balance, 50)\n\n        # Enviar fondos y verificar\n        txid = self.nodes[0].sendtoaddress(\n            self.nodes[1].getnewaddress(), 10\n        )\n        self.generate(self.nodes[0], 1)\n        assert_equal(self.nodes[1].getbalance(), 10)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"herramientas-de-desarrollo",children:"Herramientas de Desarrollo"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Herramienta"}),(0,i.jsx)(n.th,{children:"Prop\xf3sito"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"gdb"})," / ",(0,i.jsx)(n.code,{children:"lldb"})]}),(0,i.jsx)(n.td,{children:"Depurador para C++"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"valgrind"})}),(0,i.jsx)(n.td,{children:"Detecci\xf3n de errores de memoria"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"clang-format"})}),(0,i.jsxs)(n.td,{children:["Formateo de c\xf3digo (el proyecto tiene ",(0,i.jsx)(n.code,{children:".clang-format"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"clang-tidy"})}),(0,i.jsx)(n.td,{children:"An\xe1lisis est\xe1tico"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ccache"})}),(0,i.jsx)(n.td,{children:"Cach\xe9 del compilador para rebuilds m\xe1s r\xe1pidos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bear"})}),(0,i.jsxs)(n.td,{children:["Genera ",(0,i.jsx)(n.code,{children:"compile_commands.json"})," para soporte de IDE"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flamegraph"})}),(0,i.jsx)(n.td,{children:"Visualizaci\xf3n de profiling de rendimiento"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"depurar-bitcoin-core",children:"Depurar Bitcoin Core"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Compilar con s\xedmbolos de depuraci\xf3n\ncmake -B build -DCMAKE_BUILD_TYPE=Debug\ncmake --build build\n\n# Ejecutar bajo depurador\ngdb --args ./build/src/bitcoind -regtest\n\n# Comandos \xfatiles de GDB\n(gdb) break validation.cpp:ProcessNewBlock\n(gdb) run\n(gdb) bt    # backtrace\n(gdb) p block.GetHash().ToString()  # imprimir expresi\xf3n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"lectura-recomendada",children:"Lectura Recomendada"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md",children:"Notas para Desarrolladores de Bitcoin Core"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://isocpp.github.io/CppCoreGuidelines/",children:"C++ Core Guidelines"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/bitcoin/bitcoin/blob/master/test/functional/README.md",children:"Documentaci\xf3n del Framework de Tests Funcionales"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>t});var r=s(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);