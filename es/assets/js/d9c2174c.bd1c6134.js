"use strict";(globalThis.webpackChunkbtc_dev_journey=globalThis.webpackChunkbtc_dev_journey||[]).push([[2394],{4523(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"tracks/protocol-developer/bitcoin-core-internals/code-architecture","title":"Arquitectura del C\xf3digo","description":"Layout del \xe1rbol de c\xf3digo fuente de Bitcoin Core, sistema de build y l\xedmites de m\xf3dulos","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/tracks/protocol-developer/01-bitcoin-core-internals/code-architecture.md","sourceDirName":"tracks/protocol-developer/01-bitcoin-core-internals","slug":"/tracks/protocol-developer/bitcoin-core-internals/code-architecture","permalink":"/es/docs/tracks/protocol-developer/bitcoin-core-internals/code-architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Arquitectura del C\xf3digo","description":"Layout del \xe1rbol de c\xf3digo fuente de Bitcoin Core, sistema de build y l\xedmites de m\xf3dulos"},"sidebar":"guideSidebar","previous":{"title":"Internos de Bitcoin Core","permalink":"/es/docs/tracks/protocol-developer/bitcoin-core-internals/"},"next":{"title":"Reglas de Consenso","permalink":"/es/docs/tracks/protocol-developer/bitcoin-core-internals/consensus"}}');var r=i(4848),s=i(8453);const c={sidebar_position:2,title:"Arquitectura del C\xf3digo",description:"Layout del \xe1rbol de c\xf3digo fuente de Bitcoin Core, sistema de build y l\xedmites de m\xf3dulos"},t="Arquitectura del C\xf3digo",d={},a=[{value:"Layout del \xc1rbol de C\xf3digo",id:"layout-del-\xe1rbol-de-c\xf3digo",level:2},{value:"Conceptos Arquitect\xf3nicos Clave",id:"conceptos-arquitect\xf3nicos-clave",level:2},{value:"Separaci\xf3n de Consenso",id:"separaci\xf3n-de-consenso",level:3},{value:"Arquitectura de Procesos",id:"arquitectura-de-procesos",level:3},{value:"Interfaces Importantes",id:"interfaces-importantes",level:3},{value:"Sistema de Build",id:"sistema-de-build",level:2},{value:"Lectura Recomendada",id:"lectura-recomendada",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"arquitectura-del-c\xf3digo",children:"Arquitectura del C\xf3digo"})}),"\n",(0,r.jsx)(n.p,{children:"Entender c\xf3mo est\xe1 organizado el c\xf3digo fuente de Bitcoin Core es el primer paso para navegar y contribuir al proyecto."}),"\n",(0,r.jsx)(n.h2,{id:"layout-del-\xe1rbol-de-c\xf3digo",children:"Layout del \xc1rbol de C\xf3digo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"bitcoin/\n\u251c\u2500\u2500 src/                    # C\xf3digo fuente principal\n\u2502   \u251c\u2500\u2500 consensus/          # C\xf3digo cr\xedtico de consenso (dependencias m\xednimas)\n\u2502   \u251c\u2500\u2500 script/             # Int\xe9rprete y verificaci\xf3n de scripts\n\u2502   \u251c\u2500\u2500 primitives/         # Estructuras de datos fundamentales (block, transaction)\n\u2502   \u251c\u2500\u2500 wallet/             # Funcionalidad del wallet\n\u2502   \u251c\u2500\u2500 rpc/                # Implementaciones de comandos RPC\n\u2502   \u251c\u2500\u2500 net.cpp             # Red de bajo nivel (conexiones, sockets)\n\u2502   \u251c\u2500\u2500 net_processing.cpp  # L\xf3gica de manejo de mensajes del protocolo\n\u2502   \u251c\u2500\u2500 validation.cpp      # Validaci\xf3n de bloques y transacciones\n\u2502   \u251c\u2500\u2500 txmempool.cpp       # Gesti\xf3n del memory pool\n\u2502   \u251c\u2500\u2500 init.cpp            # Inicializaci\xf3n y arranque del nodo\n\u2502   \u251c\u2500\u2500 node/               # Interfaces a nivel de nodo\n\u2502   \u251c\u2500\u2500 kernel/             # Libbitcoinkernel (extracci\xf3n del motor de consenso)\n\u2502   \u2514\u2500\u2500 test/               # Tests unitarios\n\u251c\u2500\u2500 test/                   # Tests funcionales (Python)\n\u251c\u2500\u2500 doc/                    # Documentaci\xf3n para desarrolladores\n\u251c\u2500\u2500 contrib/                # Scripts y herramientas auxiliares\n\u251c\u2500\u2500 depends/                # Constructor de dependencias para compilaci\xf3n cruzada\n\u2514\u2500\u2500 ci/                     # Scripts de integraci\xf3n continua\n"})}),"\n",(0,r.jsx)(n.h2,{id:"conceptos-arquitect\xf3nicos-clave",children:"Conceptos Arquitect\xf3nicos Clave"}),"\n",(0,r.jsx)(n.h3,{id:"separaci\xf3n-de-consenso",children:"Separaci\xf3n de Consenso"}),"\n",(0,r.jsxs)(n.p,{children:["Bitcoin Core separa cuidadosamente el c\xf3digo ",(0,r.jsx)(n.strong,{children:"cr\xedtico de consenso"})," de todo lo dem\xe1s. El c\xf3digo en ",(0,r.jsx)(n.code,{children:"src/consensus/"})," y ",(0,r.jsx)(n.code,{children:"src/script/"})," tiene los requisitos de revisi\xf3n m\xe1s estrictos porque los bugs ah\xed podr\xedan causar divisiones de la cadena."]}),"\n",(0,r.jsxs)(n.p,{children:["El proyecto ",(0,r.jsx)(n.strong,{children:"libbitcoinkernel"})," (en desarrollo) busca extraer toda la l\xf3gica de consenso en una librer\xeda independiente que otras implementaciones podr\xedan usar, reduciendo el riesgo de divergencia de consenso."]}),"\n",(0,r.jsx)(n.h3,{id:"arquitectura-de-procesos",children:"Arquitectura de Procesos"}),"\n",(0,r.jsx)(n.p,{children:"Bitcoin Core se ejecuta como un solo proceso con m\xfaltiples hilos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilo principal"})," \u2014 Inicializaci\xf3n y apagado"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilo manejador de mensajes"})," \u2014 Procesa mensajes P2P"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilo de red"})," \u2014 Gestiona conexiones de sockets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilo programador"})," \u2014 Ejecuta tareas peri\xf3dicas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilos RPC"})," \u2014 Manejan solicitudes de API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Hilos de verificaci\xf3n de scripts"})," \u2014 Verificaci\xf3n paralela de firmas"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"interfaces-importantes",children:"Interfaces Importantes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Interfaz"}),(0,r.jsx)(n.th,{children:"Prop\xf3sito"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ChainstateManager"})}),(0,r.jsx)(n.td,{children:"Gestiona el estado de la blockchain y validaci\xf3n"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CTxMemPool"})}),(0,r.jsx)(n.td,{children:"Memory pool de transacciones"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CConnman"})}),(0,r.jsx)(n.td,{children:"Gestor de conexiones para red P2P"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PeerManager"})}),(0,r.jsx)(n.td,{children:"L\xf3gica de protocolo de peers de alto nivel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CWallet"})}),(0,r.jsx)(n.td,{children:"Operaciones del wallet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CScript"})}),(0,r.jsx)(n.td,{children:"Representaci\xf3n y operaciones de scripts"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"sistema-de-build",children:"Sistema de Build"}),"\n",(0,r.jsxs)(n.p,{children:["Bitcoin Core usa ",(0,r.jsx)(n.strong,{children:"CMake"})," (migrado desde autotools):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Configurar\ncmake -B build\n\n# Compilar con jobs paralelos\ncmake --build build -j$(nproc)\n\n# Opciones comunes de CMake\ncmake -B build -DWITH_BDB=ON          # Habilitar wallet legacy (BDB)\ncmake -B build -DBUILD_TESTING=ON      # Compilar tests unitarios\ncmake -B build -DCMAKE_BUILD_TYPE=Debug  # Build de depuraci\xf3n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"lectura-recomendada",children:"Lectura Recomendada"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md",children:"Notas para Desarrolladores de Bitcoin Core"})," \u2014 Convenciones y pr\xe1cticas de c\xf3digo"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/bitcoin/bitcoin/blob/master/doc/design/libraries.md",children:"Organizaci\xf3n del c\xf3digo fuente"})," \u2014 Arquitectura de librer\xedas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://obc.256k1.dev/",children:"Onboarding to Bitcoin Core"})," \u2014 Programa de estudio guiado"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,n,i){i.d(n,{R:()=>c,x:()=>t});var o=i(6540);const r={},s=o.createContext(r);function c(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);